(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2937:function(e,t,r){Promise.resolve().then(r.bind(r,1597))},1597:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return M}});var s=r(7437),a=r(2265),n=r(6141);let l=r(357).env.NEXT_PUBLIC_API_URL||"http://localhost:8000";async function o(e,t){let r=await fetch("".concat(l,"/api/clone"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e})});if(!r.ok){let e=(await r.json().catch(()=>({detail:"Clone request failed"}))).detail||"Clone request failed";if(422===r.status)throw Error("Invalid URL format. Please check and try again.");if(429===r.status)throw Error("Too many requests. Please wait a moment and try again.");if(r.status>=500)throw Error("Server error — the backend may be restarting. Try again in a few seconds.");throw Error(e)}if(!r.body)throw Error("No response body — connection may have been interrupted");let s=r.body.getReader(),a=new TextDecoder,n="",o=Date.now(),i=Date.now();for(;;){if(Date.now()-i>3e5)throw s.cancel(),Error("Clone timed out after 5 minutes. The site may be too complex — try a simpler page.");if(Date.now()-o>9e4)throw s.cancel(),Error("Connection stalled — no data received for 90s. Please try again.");let{done:e,value:r}=await s.read();if(e)break;o=Date.now();let l=(n+=a.decode(r,{stream:!0})).split("\n");for(let e of(n=l.pop()||"",l))if(e.startsWith("data: ")){let r=e.slice(6).trim();if("[DONE]"===r)return;try{t(JSON.parse(r))}catch(e){console.warn("[clone] Skipped malformed SSE data:",r.slice(0,100))}}}}async function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,r=await fetch("".concat(l,"/api/clones?page=").concat(e,"&per_page=").concat(t));return r.ok?r.json():{items:[],total:0,page:e,pages:0}}function c(e){return e.startsWith("http://")||e.startsWith("https://")?e:"".concat(l).concat(e)}var d=r(4817),m=r(233),x=r(5353),u=r(2757),h=r(3231),p=r(6780),f=r(7592),g=r(8496),b=r(6848),j=r(4436),v=r(1976),w=r(933),N=r(518),y=r(5733),k=r(7419),S=r(2468),C=r(6884),Z=r(3787),_=r(4224),T=r(3907),E=r(1981),D=r(3274),P=r(4697);let I={search:d.Z,camera:m.Z,cpu:x.Z,rocket:u.Z,done:h.Z,error:p.Z};function L(e,t){return"error"===e?"error":"done"===e?"done":"deploying"===e?"rocket":"generating"===e?"cpu":t.toLowerCase().includes("screenshot")?"camera":"search"}function M(){var e,t;let[r,d]=(0,a.useState)(""),[x,u]=(0,a.useState)("idle"),[p,M]=(0,a.useState)(null),[R,O]=(0,a.useState)([]),[U,A]=(0,a.useState)(!1),[z,W]=(0,a.useState)(null),[q,B]=(0,a.useState)(null),[H,J]=(0,a.useState)([]),[V,$]=(0,a.useState)(1),[F,G]=(0,a.useState)(0),[X,K]=(0,a.useState)(0),[Q,Y]=(0,a.useState)(!1),[ee,et]=(0,a.useState)(!0),[er,es]=(0,a.useState)(null),[ea,en]=(0,a.useState)([]),[el,eo]=(0,a.useState)([]),[ei,ec]=(0,a.useState)(new Set),[ed,em]=(0,a.useState)(new Set),[ex,eu]=(0,a.useState)(0),eh=(0,a.useRef)(null),ep=(0,a.useRef)(null),ef=(0,a.useRef)(0),eg=(0,a.useRef)(null);(0,a.useEffect)(()=>{i(V,30).then(e=>{J(e.items),G(e.pages),K(e.total)}).catch(()=>{})},[V]),(0,a.useEffect)(()=>{var e;"idle"===x&&(null===(e=eh.current)||void 0===e||e.focus())},[x]),(0,a.useEffect)(()=>{var e;null===(e=ep.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[ea]),(0,a.useEffect)(()=>{let e="scraping"===x||"generating"===x||"deploying"===x;e&&!eg.current?eg.current=setInterval(()=>eu(e=>e+1),1e3):!e&&eg.current&&(clearInterval(eg.current),eg.current=null)},[x]);let eb=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"active",s=++ef.current;en(a=>[...a.map(e=>"message"===e.kind&&"active"===e.status?{...e,status:"done"}:e),{kind:"message",id:s,icon:e,message:t,timestamp:new Date,status:r}])},ej=(e,t)=>{let r=++ef.current;en(s=>[...s,{kind:"file",id:r,file:e,lines:t,timestamp:new Date}])},ev=async()=>{if(!r.trim())return;let e=r.trim();/^https?:\/\//i.test(e)||(e="https://"+e),u("scraping"),B(null),M(null),O([]),A(!1),W(null),en([]),eu(0),em(new Set),ef.current=0,eg.current&&(clearInterval(eg.current),eg.current=null),eb("search","Starting clone process...");try{await o(e,e=>{if("file_write"===e.status)e.file&&e.lines&&ej(e.file,e.lines);else if("screenshot"===e.status){if(e.screenshot){let t=++ef.current;en(r=>[...r.map(e=>"message"===e.kind&&"active"===e.status?{...e,status:"done"}:e),{kind:"screenshot",id:t,src:"data:image/png;base64,".concat(e.screenshot),timestamp:new Date}])}eb("camera","Screenshot captured","done")}else if("file_upload"===e.status)eb("rocket",e.message||"Uploading file...");else if("sandbox_ready"===e.status)e.preview_url&&M(c(e.preview_url)),eb("rocket","Sandbox ready — loading preview...","done");else if("scraping"===e.status)u("scraping"),eb(L(e.status,e.message||""),e.message||"");else if("generating"===e.status)u("generating"),eb(L(e.status,e.message||""),e.message||"");else if("deploying"===e.status)u("deploying"),eb("rocket",e.message||"Deploying...");else if("done"===e.status){if(u("done"),eb("done","Clone complete!","done"),e.files&&e.files.length>0&&(O(e.files),W(e.files[0].path)),e.scaffold_paths){eo(e.scaffold_paths);let t=(e.files||[]).map(e=>e.path),r=new Set;for(let e of t){let t=e.split("/");for(let e=1;e<t.length;e++)r.add(t.slice(0,e).join("/"))}ec(r)}e.preview_url&&M(c(e.preview_url)),i(1,30).then(e=>{J(e.items),G(e.pages),K(e.total),$(1)}).catch(()=>{})}else"error"===e.status&&(u("error"),B(e.message||"Unknown error"),eb("error",e.message||"Unknown error","error"))})}catch(t){u("error");let e=t instanceof Error?t.message:"Something went wrong";B(e),eb("error",e,"error")}},ew=async()=>{let e=R.find(e=>e.path===z);e&&(await navigator.clipboard.writeText(e.content),Y(!0),setTimeout(()=>Y(!1),2e3))},eN=e=>{var t,r;M((null===(t=e.preview_url)||void 0===t?void 0:t.includes("/api/static/"))?c(e.preview_url):(r=e.id,"".concat(l,"/api/preview/").concat(r))),u("done"),d(e.url),O([]),en([{kind:"message",id:1,icon:"done",message:"Loaded from history",timestamp:new Date,status:"done"}])},ey=()=>{u("idle"),d(""),M(null),O([]),B(null),A(!1),W(null),en([])},ek=e=>{let t=Math.floor((Date.now()-new Date(e).getTime())/6e4);if(t<1)return"just now";if(t<60)return"".concat(t,"m ago");let r=Math.floor(t/60);return r<24?"".concat(r,"h ago"):"".concat(Math.floor(r/24),"d ago")},eS="scraping"===x||"generating"===x||"deploying"===x,eC="done"===x&&(p||R.length>0),eZ=eS||eC||"error"===x,e_=(null===(e=R.find(e=>e.path===z))||void 0===e?void 0:e.content)||"",eT=(()=>{let e={name:"",path:"",type:"folder",generated:!1,children:[]};function t(t,r){let s=t.split("/"),a=s.pop(),n=function(t){let r=e,s="";for(let e of t){s=s?"".concat(s,"/").concat(e):e;let t=r.children.find(t=>t.name===e&&"folder"===t.type);t||(t={name:e,path:s,type:"folder",generated:!1,children:[]},r.children.push(t)),r=t}return r}(s);n.children.find(e=>e.name===a&&"file"===e.type)||n.children.push({name:a,path:t,type:"file",generated:r,children:[]})}for(let e of(R.map(e=>e.path),el))t(e,!1);for(let e of R)t(e.path,!0);return!function e(t){for(let r of(t.sort((e,t)=>e.type!==t.type?"folder"===e.type?-1:1:e.name.localeCompare(t.name)),t))r.children.length&&e(r.children)}(e.children),e.children})(),eE=e=>{ec(t=>{let r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r})},eD=(e,t)=>{if("folder"===e.type){let r=ei.has(e.path);return(0,s.jsxs)("div",{children:[(0,s.jsxs)("button",{onClick:()=>eE(e.path),className:"w-full flex items-center gap-1.5 py-1 text-left text-xs text-muted-foreground hover:text-foreground hover:bg-secondary/30 transition-colors",style:{paddingLeft:12*t+8},children:[(0,s.jsx)(f.Z,{className:"w-3 h-3 shrink-0 transition-transform ".concat(r?"rotate-90":"")}),(0,s.jsx)(g.Z,{className:"w-3.5 h-3.5 shrink-0 text-blue-400/70"}),(0,s.jsx)("span",{className:"truncate font-mono",children:e.name})]}),r&&e.children.map(e=>eD(e,t+1))]},e.path)}return(0,s.jsxs)("button",{onClick:()=>e.generated&&W(e.path),className:"w-full flex items-center gap-1.5 py-1 text-left text-xs transition-colors ".concat(z===e.path?"bg-primary/10 text-foreground":e.generated?"text-muted-foreground hover:text-foreground hover:bg-secondary/30 cursor-pointer":"text-muted-foreground/40 cursor-default"),style:{paddingLeft:12*t+20},children:[(0,s.jsx)(b.Z,{className:"w-3 h-3 shrink-0"}),(0,s.jsx)("span",{className:"truncate font-mono",children:e.name}),e.generated&&(0,s.jsx)("span",{className:"ml-auto text-[10px] text-green-400/60 shrink-0 pr-2",children:"AI"})]},e.path)};return eZ?(0,s.jsxs)("main",{className:"h-screen flex flex-col",children:[(0,s.jsxs)("div",{className:"shrink-0 flex items-center gap-2 px-4 py-2.5 border-b bg-card/80 backdrop-blur-sm",children:[(0,s.jsxs)("button",{onClick:ey,className:"flex items-center gap-2 text-sm font-medium hover:text-primary transition-colors mr-2",children:[(0,s.jsx)(j.Z,{className:"w-4 h-4"}),"Clonr"]}),(0,s.jsx)("div",{className:"w-px h-5 bg-border"}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground truncate max-w-[300px] ml-2",children:r.replace(/^https?:\/\//,"")}),(0,s.jsx)("div",{className:"flex-1"}),eC&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center bg-secondary rounded-lg p-0.5",children:[(0,s.jsxs)("button",{onClick:()=>A(!1),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm transition-all ".concat(U?"text-muted-foreground hover:text-foreground":"bg-background text-foreground shadow-sm"),children:[(0,s.jsx)(y.Z,{className:"w-3.5 h-3.5"}),"Preview"]}),(0,s.jsxs)("button",{onClick:()=>A(!0),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm transition-all ".concat(U?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[(0,s.jsx)(k.Z,{className:"w-3.5 h-3.5"}),"Code"]})]}),U&&z&&(0,s.jsxs)("button",{onClick:ew,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm text-muted-foreground hover:text-foreground hover:bg-secondary transition-all",children:[Q?(0,s.jsx)(S.Z,{className:"w-3.5 h-3.5 text-green-400"}):(0,s.jsx)(C.Z,{className:"w-3.5 h-3.5"}),Q?"Copied":"Copy"]}),p&&(0,s.jsx)("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm text-muted-foreground hover:text-foreground hover:bg-secondary transition-all",children:(0,s.jsx)(Z.Z,{className:"w-3.5 h-3.5"})})]}),(0,s.jsx)("button",{onClick:ey,className:"bg-primary text-primary-foreground rounded-lg px-4 py-1.5 text-sm font-medium hover:bg-primary/90 transition-all flex items-center gap-2",children:"New clone"})]}),(0,s.jsxs)("div",{className:"flex-1 flex overflow-hidden relative",children:[!ee&&(0,s.jsx)("button",{onClick:()=>et(!0),className:"absolute left-2 top-14 z-20 p-1.5 rounded-lg bg-card border border-border shadow-sm hover:bg-secondary transition-colors",title:"Show activity",children:(0,s.jsx)(_.Z,{className:"w-4 h-4 text-muted-foreground"})}),(0,s.jsxs)("div",{className:"shrink-0 border-r bg-card flex flex-col z-10 transition-all duration-200 ".concat(ee?"w-80":"w-0 overflow-hidden border-r-0"),children:[(0,s.jsxs)("div",{className:"px-4 py-3 border-b flex items-center justify-between",children:[(0,s.jsxs)("h2",{className:"text-sm font-semibold flex items-center gap-2",children:[(0,s.jsx)(T.Z,{className:"w-4 h-4 text-primary"}),"Activity"]}),(0,s.jsx)("button",{onClick:()=>et(!1),className:"p-1 rounded-md hover:bg-secondary transition-colors",title:"Hide activity",children:(0,s.jsx)(E.Z,{className:"w-4 h-4 text-muted-foreground"})})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto px-3 py-2",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(()=>{let e=[],t=null,r={search:"scrape",camera:"scrape",cpu:"generate",rocket:"deploy",done:"done",error:"error"};for(let s of ea){let a="other";"message"===s.kind?a=r[s.icon]||"other":"file"===s.kind?a="generate":"screenshot"===s.kind&&(a="scrape"),t&&t.id===a||(t={id:a,label:"scrape"===a?"Scraping website":"generate"===a?"Generating clone":"deploy"===a?"Deploying to sandbox":"done"===a?"Clone complete":"error"===a?"Error":"Processing",icon:"scrape"===a?"search":"generate"===a?"cpu":"deploy"===a?"rocket":"done"===a?"done":"error",status:"active",entries:[],startTime:s.timestamp},e.push(t)),t.entries.push(s),t.endTime=s.timestamp,"message"===s.kind&&("done"===s.status||"error"===s.status)&&(t.status=s.status)}for(let t of e){let e=t.entries.filter(e=>"file"===e.kind),r=t.entries.filter(e=>"screenshot"===e.kind),s=[];if(r.length&&s.push("".concat(r.length," screenshot").concat(r.length>1?"s":"")),e.length){let t=e.reduce((e,t)=>e+t.lines,0);s.push("".concat(e.length," files (+").concat(t," lines)"))}s.length&&(t.summary=s.join(", "))}let a=e=>{em(t=>{let r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r})};return e.map((e,t)=>{let r=ed.has("".concat(e.id,"-").concat(t)),n="".concat(e.id,"-").concat(t),l=I[e.icon],o=e.startTime&&e.endTime?Math.round((e.endTime.getTime()-e.startTime.getTime())/1e3):0,i="active"===e.status,c="done"===e.id,d="error"===e.status;if(c)return(0,s.jsxs)("div",{className:"flex items-center gap-2.5 py-2 px-2.5 rounded-lg bg-green-500/5 border border-green-500/20",children:[(0,s.jsx)(h.Z,{className:"w-4 h-4 text-green-500 shrink-0"}),(0,s.jsx)("span",{className:"text-sm font-medium text-green-400 flex-1",children:"Clone complete"}),ex>0&&(0,s.jsxs)("span",{className:"text-[11px] text-muted-foreground/60 tabular-nums",children:[Math.floor(ex/60),":",String(ex%60).padStart(2,"0")," total"]})]},n);let x=e.entries.filter(e=>"file"===e.kind),u=e.entries.filter(e=>"screenshot"===e.kind);return(0,s.jsxs)("div",{className:"rounded-lg border transition-colors ".concat(i?"bg-primary/5 border-primary/20":d?"bg-destructive/5 border-destructive/20":"bg-secondary/20 border-border/30"),children:[(0,s.jsxs)("button",{onClick:()=>a(n),className:"w-full flex items-center gap-2.5 px-2.5 py-2 text-left",children:[(0,s.jsx)(f.Z,{className:"w-3 h-3 shrink-0 text-muted-foreground/50 transition-transform ".concat(r?"rotate-90":"")}),(0,s.jsx)("div",{className:"shrink-0 ".concat(i?"text-primary":d?"text-destructive":"text-muted-foreground/60"),children:i?(0,s.jsx)(D.Z,{className:"w-3.5 h-3.5 animate-spin"}):(0,s.jsx)(l,{className:"w-3.5 h-3.5"})}),(0,s.jsx)("span",{className:"text-xs font-medium flex-1 min-w-0 truncate ".concat(i?"text-foreground":d?"text-destructive":"text-muted-foreground"),children:e.label}),e.summary&&!i&&(0,s.jsx)("span",{className:"text-[10px] text-muted-foreground/50 shrink-0",children:e.summary}),!i&&!d&&(0,s.jsx)(h.Z,{className:"w-3 h-3 text-green-500/70 shrink-0"}),o>0&&!i&&(0,s.jsxs)("span",{className:"text-[10px] text-muted-foreground/40 shrink-0 tabular-nums",children:[o,"s"]})]}),r&&(0,s.jsx)("div",{className:"px-2.5 pb-2 space-y-0.5",children:(0,s.jsxs)("div",{className:"border-t border-border/20 pt-1.5",children:[e.entries.filter(e=>"message"===e.kind).map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-2 py-0.5 px-1",children:[(0,s.jsx)("span",{className:"w-1 h-1 rounded-full bg-muted-foreground/30 shrink-0"}),(0,s.jsx)("span",{className:"text-[11px] text-muted-foreground/70 truncate flex-1",children:e.message}),(0,s.jsx)("span",{className:"text-[10px] text-muted-foreground/30 shrink-0 tabular-nums",children:e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})})]},e.id)),u.map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-2 py-0.5 px-1",children:[(0,s.jsx)(m.Z,{className:"w-3 h-3 text-muted-foreground/50 shrink-0"}),(0,s.jsx)("span",{className:"text-[11px] text-muted-foreground/70 flex-1",children:"Screenshot captured"}),(0,s.jsx)("img",{src:e.src,alt:"Screenshot",className:"w-12 h-8 rounded border border-border/50 cursor-pointer hover:opacity-80 transition-opacity object-cover shrink-0",onClick:()=>es(e.src)})]},e.id)),x.length>0&&(0,s.jsx)("div",{className:"mt-1 rounded bg-secondary/30 border border-border/20 overflow-hidden",children:x.map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-2 px-2 py-0.5",children:[(0,s.jsx)(b.Z,{className:"w-3 h-3 text-muted-foreground/50 shrink-0"}),(0,s.jsx)("span",{className:"text-[11px] text-foreground/70 truncate flex-1 font-mono",children:e.file}),(0,s.jsxs)("span",{className:"text-[10px] font-mono text-green-400/60 shrink-0",children:["+",e.lines]})]},e.id))})]})})]},n)})})(),(0,s.jsx)("div",{ref:ep})]}),eS&&(0,s.jsx)("div",{className:"mt-4 pt-4 border-t border-border/50",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,s.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-primary animate-pulse"}),"Working... ",ex>0&&"".concat(Math.floor(ex/60),":").concat(String(ex%60).padStart(2,"0"))]})})]})]}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[eS&&!p&&(0,s.jsx)("div",{className:"flex-1 flex items-center justify-center bg-muted/20",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"relative inline-flex items-center justify-center mb-6",children:[(0,s.jsx)("div",{className:"absolute w-20 h-20 rounded-full bg-primary/20 animate-pulse-ring"}),(0,s.jsx)("div",{className:"absolute w-14 h-14 rounded-full bg-primary/10 animate-pulse"}),(0,s.jsx)(T.Z,{className:"relative w-8 h-8 text-primary"})]}),(0,s.jsx)("p",{className:"text-muted-foreground text-sm",children:"Building your clone..."})]})}),eS&&p&&(0,s.jsx)("div",{className:"flex-1 relative",children:(0,s.jsx)("iframe",{src:p,className:"absolute inset-0 w-full h-full border-0",title:"Cloned website preview",sandbox:"allow-scripts allow-same-origin"})}),"error"===x&&(0,s.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center max-w-sm",children:[(0,s.jsx)("div",{className:"inline-flex items-center justify-center w-14 h-14 rounded-2xl bg-destructive/10 mb-4",children:(0,s.jsx)(P.Z,{className:"w-7 h-7 text-destructive"})}),(0,s.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Clone failed"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:q}),(0,s.jsx)("button",{onClick:ey,className:"bg-card border border-border rounded-xl px-5 py-2 text-sm font-medium hover:bg-secondary transition-colors",children:"Try again"})]})}),eC&&!U&&p&&(0,s.jsx)("div",{className:"flex-1 relative",children:(0,s.jsx)("iframe",{src:p,className:"absolute inset-0 w-full h-full border-0",title:"Cloned website preview",sandbox:"allow-scripts allow-same-origin"})}),eC&&!U&&!p&&R.length>0&&(0,s.jsx)("div",{className:"flex-1 flex items-center justify-center bg-muted/20",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(b.Z,{className:"w-10 h-10 text-muted-foreground mx-auto mb-3"}),(0,s.jsx)("p",{className:"text-muted-foreground text-sm mb-2",children:"No sandbox preview available"}),(0,s.jsx)("button",{onClick:()=>A(!0),className:"text-primary text-sm hover:underline",children:"View generated code instead"})]})}),eC&&U&&R.length>0&&(0,s.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,s.jsxs)("div",{className:"w-56 shrink-0 border-r bg-[hsl(220,13%,5%)] overflow-y-auto",children:[(0,s.jsx)("div",{className:"px-3 py-2 border-b border-border/50",children:(0,s.jsx)("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Explorer"})}),(0,s.jsx)("div",{className:"py-1",children:eT.length>0?eT.map(e=>eD(e,0)):R.map(e=>(0,s.jsxs)("button",{onClick:()=>W(e.path),className:"w-full flex items-center gap-2 px-3 py-1.5 text-left text-sm transition-colors ".concat(z===e.path?"bg-primary/10 text-foreground":"text-muted-foreground hover:text-foreground hover:bg-secondary/30"),children:[(0,s.jsx)(b.Z,{className:"w-3.5 h-3.5 shrink-0"}),(0,s.jsx)("span",{className:"truncate font-mono text-xs",children:e.path})]},e.path))})]}),(0,s.jsx)("div",{className:"flex-1 overflow-auto bg-[#0d1117]",children:z&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"sticky top-0 z-10 flex items-center gap-2 px-4 py-1.5 bg-[#161b22] border-b border-[#30363d]",children:[(0,s.jsx)(b.Z,{className:"w-3.5 h-3.5 text-[#8b949e]"}),(0,s.jsx)("span",{className:"text-xs font-mono text-[#8b949e]",children:z}),(0,s.jsxs)("span",{className:"text-xs font-mono text-[#3fb950] ml-auto",children:[(null===(t=R.find(e=>e.path===z))||void 0===t?void 0:t.lines)||0," lines"]})]}),(0,s.jsx)(n.y$,{theme:n.np.nightOwl,code:e_,language:"tsx",children:e=>{let{tokens:t,getTokenProps:r}=e;return(0,s.jsx)("pre",{className:"text-[13px] leading-[1.6] m-0 p-0 overflow-x-auto",style:{background:"#0d1117"},children:(0,s.jsx)("code",{className:"block",children:t.map((e,t)=>(0,s.jsxs)("div",{className:"flex hover:bg-[#161b22]",style:{minHeight:"1.6em"},children:[(0,s.jsx)("span",{className:"shrink-0 w-12 text-right pr-4 select-none text-[#484f58] text-xs leading-[1.6]",style:{paddingTop:"0.1em"},children:t+1}),(0,s.jsx)("span",{className:"flex-1 pr-4 whitespace-pre",children:e.map((e,t)=>(0,s.jsx)("span",{...r({token:e})},t))})]},t))})})}})]})})]})]})]}),er&&(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm cursor-pointer",onClick:()=>es(null),children:[(0,s.jsx)("button",{onClick:()=>es(null),className:"absolute top-4 right-4 p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors",children:(0,s.jsx)(P.Z,{className:"w-5 h-5 text-white"})}),(0,s.jsx)("img",{src:er,alt:"Screenshot expanded",className:"max-w-[90vw] max-h-[90vh] rounded-lg shadow-2xl object-contain",onClick:e=>e.stopPropagation()})]})]}):(0,s.jsx)("main",{className:"min-h-screen flex flex-col",children:(0,s.jsxs)("div",{className:"flex-1 flex flex-col items-center px-4 ".concat(H.length>0?"pt-16":"justify-center"),children:[(0,s.jsxs)("div",{className:"mb-8 text-center",children:[(0,s.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-primary/10 mb-6",children:(0,s.jsx)(j.Z,{className:"w-8 h-8 text-primary"})}),(0,s.jsx)("h1",{className:"text-4xl font-bold tracking-tight mb-3",children:"Clone any website"}),(0,s.jsx)("p",{className:"text-muted-foreground text-lg max-w-md",children:"Paste a URL and get an AI-generated Next.js replica in seconds"})]}),(0,s.jsx)("form",{onSubmit:e=>{e.preventDefault(),ev()},className:"w-full max-w-xl",children:(0,s.jsxs)("div",{className:"relative flex items-center bg-card border border-border rounded-2xl px-4 py-2 focus-within:ring-2 focus-within:ring-primary/50 focus-within:border-primary/50 transition-all",children:[(0,s.jsx)(j.Z,{className:"w-5 h-5 text-muted-foreground shrink-0"}),(0,s.jsx)("input",{ref:eh,type:"text",placeholder:"https://example.com",value:r,onChange:e=>d(e.target.value),className:"flex-1 bg-transparent border-0 outline-none px-3 py-2 text-base placeholder:text-muted-foreground"}),(0,s.jsxs)("button",{type:"submit",disabled:!r.trim(),className:"shrink-0 bg-primary text-primary-foreground rounded-xl px-4 py-2 text-sm font-medium hover:bg-primary/90 disabled:opacity-30 disabled:cursor-not-allowed transition-all flex items-center gap-2",children:["Clone",(0,s.jsx)(v.Z,{className:"w-4 h-4"})]})]})}),H.length>0&&(0,s.jsxs)("div",{className:"mt-12 w-full max-w-6xl px-4",children:[(0,s.jsxs)("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider mb-4 flex items-center gap-1.5",children:[(0,s.jsx)(w.Z,{className:"w-3 h-3"})," Recent clones",X>0&&(0,s.jsxs)("span",{className:"text-muted-foreground/50",children:["(",X,")"]})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3",children:H.map(e=>{let t=e.url.replace(/^https?:\/\//,"").replace(/\/.*$/,"");return(0,s.jsxs)("button",{onClick:()=>eN(e),className:"group text-left p-4 rounded-xl bg-card border border-border hover:border-primary/40 hover:bg-primary/5 transition-all",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(j.Z,{className:"w-4 h-4 text-muted-foreground group-hover:text-primary transition-colors shrink-0"}),(0,s.jsx)("span",{className:"text-sm font-semibold truncate",children:t})]}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:ek(e.created_at)})]},e.id)})}),F>1&&(0,s.jsxs)("div",{className:"flex items-center justify-center gap-1 mt-6",children:[(0,s.jsx)("button",{onClick:()=>$(e=>Math.max(1,e-1)),disabled:V<=1,className:"p-2 rounded-lg text-sm text-muted-foreground hover:text-foreground hover:bg-secondary disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:(0,s.jsx)(N.Z,{className:"w-4 h-4"})}),Array.from({length:F},(e,t)=>t+1).filter(e=>1===e||e===F||1>=Math.abs(e-V)).reduce((e,t,r,s)=>(r>0&&t-s[r-1]>1&&e.push("..."),e.push(t),e),[]).map((e,t)=>"..."===e?(0,s.jsx)("span",{className:"px-1 text-muted-foreground/50 text-sm",children:"..."},"ellipsis-".concat(t)):(0,s.jsx)("button",{onClick:()=>$(e),className:"min-w-[32px] h-8 rounded-lg text-sm transition-colors ".concat(V===e?"bg-primary text-primary-foreground font-medium":"text-muted-foreground hover:text-foreground hover:bg-secondary"),children:e},e)),(0,s.jsx)("button",{onClick:()=>$(e=>Math.min(F,e+1)),disabled:V>=F,className:"p-2 rounded-lg text-sm text-muted-foreground hover:text-foreground hover:bg-secondary disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:(0,s.jsx)(f.Z,{className:"w-4 h-4"})})]})]})]})})}}},function(e){e.O(0,[807,971,23,744],function(){return e(e.s=2937)}),_N_E=e.O()}]);