(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2937:function(e,t,r){Promise.resolve().then(r.bind(r,713))},713:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return M}});var n=r(7437),s=r(2265);let a=r(357).env.NEXT_PUBLIC_API_URL||"http://localhost:8000";async function l(e,t){let r=await fetch("".concat(a,"/api/clone"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e})});if(!r.ok)throw Error((await r.json().catch(()=>({detail:"Clone request failed"}))).detail||"Clone request failed");if(!r.body)throw Error("No response body");let n=r.body.getReader(),s=new TextDecoder,l="";for(;;){let{done:e,value:r}=await n.read();if(e)break;let a=(l+=s.decode(r,{stream:!0})).split("\n");for(let e of(l=a.pop()||"",a))if(e.startsWith("data: ")){let r=e.slice(6).trim();if("[DONE]"===r)return;try{t(JSON.parse(r))}catch(e){}}}}async function i(){let e=await fetch("".concat(a,"/api/clones"));return e.ok?e.json():[]}/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},c=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),d=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),u=e=>{let t=d(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var m={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1},h=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:n=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:i="",children:c,iconNode:d,...u}=e;return(0,s.createElement)("svg",{ref:t,...m,width:n,height:n,stroke:r,strokeWidth:l?24*Number(a)/Number(n):a,className:o("lucide",i),...!c&&!x(u)&&{"aria-hidden":"true"},...u},[...d.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(c)?c:[c]])}),p=(e,t)=>{let r=(0,s.forwardRef)((r,n)=>{let{className:a,...l}=r;return(0,s.createElement)(h,{ref:n,iconNode:t,className:o("lucide-".concat(c(u(e))),"lucide-".concat(e),a),...l})});return r.displayName=u(e),r},f=p("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),g=p("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),y=p("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),b=p("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),w=p("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),v=p("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),j=p("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),N=p("code-xml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]),k=p("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),C=p("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),T=p("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),E=[{key:"scraping",label:"Scraping",icon:f},{key:"generating",label:"Generating",icon:g},{key:"deploying",label:"Deploying",icon:y}];function M(){let[e,t]=(0,s.useState)(""),[r,o]=(0,s.useState)("idle"),[c,d]=(0,s.useState)(""),[u,m]=(0,s.useState)(null),[x,h]=(0,s.useState)(null),[p,M]=(0,s.useState)(!1),[S,_]=(0,s.useState)(null),[A,L]=(0,s.useState)([]),[z,q]=(0,s.useState)(!1),O=(0,s.useRef)(null);(0,s.useEffect)(()=>{i().then(L).catch(()=>{})},[]),(0,s.useEffect)(()=>{var e;"idle"===r&&(null===(e=O.current)||void 0===e||e.focus())},[r]);let R=async()=>{if(!e.trim())return;let t=e.trim();/^https?:\/\//i.test(t)||(t="https://"+t),o("scraping"),d("Fetching website..."),_(null),m(null),h(null),M(!1);try{await l(t,e=>{"scraping"===e.status?(o("scraping"),d(e.message)):"generating"===e.status?(o("generating"),d(e.message)):"deploying"===e.status?(o("deploying"),d(e.message)):"done"===e.status?(o("done"),d(""),e.html&&h(e.html),e.preview_url&&m(e.preview_url),i().then(L).catch(()=>{})):"error"===e.status&&(o("error"),_(e.message))})}catch(e){o("error"),_(e instanceof Error?e.message:"Something went wrong")}},P=async()=>{x&&(await navigator.clipboard.writeText(x),q(!0),setTimeout(()=>q(!1),2e3))},D=e=>{var r;m((r=e.id,"".concat(a,"/api/preview/").concat(r))),o("done"),t(e.url)},U=()=>{o("idle"),t(""),m(null),h(null),_(null),M(!1)},I="scraping"===r||"generating"===r||"deploying"===r,W="done"===r&&(u||x),B=E.findIndex(e=>e.key===r);return"idle"===r?(0,n.jsx)("main",{className:"min-h-screen flex flex-col",children:(0,n.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center px-4",children:[(0,n.jsxs)("div",{className:"mb-8 text-center",children:[(0,n.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-primary/10 mb-6",children:(0,n.jsx)(f,{className:"w-8 h-8 text-primary"})}),(0,n.jsx)("h1",{className:"text-4xl font-bold tracking-tight mb-3",children:"Clone any website"}),(0,n.jsx)("p",{className:"text-muted-foreground text-lg max-w-md",children:"Paste a URL and get an AI-generated replica in seconds"})]}),(0,n.jsx)("form",{onSubmit:e=>{e.preventDefault(),R()},className:"w-full max-w-xl",children:(0,n.jsxs)("div",{className:"relative flex items-center bg-card border border-border rounded-2xl px-4 py-2 focus-within:ring-2 focus-within:ring-primary/50 focus-within:border-primary/50 transition-all",children:[(0,n.jsx)(f,{className:"w-5 h-5 text-muted-foreground shrink-0"}),(0,n.jsx)("input",{ref:O,type:"text",placeholder:"https://example.com",value:e,onChange:e=>t(e.target.value),className:"flex-1 bg-transparent border-0 outline-none px-3 py-2 text-base placeholder:text-muted-foreground"}),(0,n.jsxs)("button",{type:"submit",disabled:!e.trim(),className:"shrink-0 bg-primary text-primary-foreground rounded-xl px-4 py-2 text-sm font-medium hover:bg-primary/90 disabled:opacity-30 disabled:cursor-not-allowed transition-all flex items-center gap-2",children:["Clone",(0,n.jsx)(y,{className:"w-4 h-4"})]})]})}),A.length>0&&(0,n.jsxs)("div",{className:"mt-12 w-full max-w-xl",children:[(0,n.jsxs)("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider mb-3 flex items-center gap-1.5",children:[(0,n.jsx)(b,{className:"w-3 h-3"})," Recent"]}),(0,n.jsx)("div",{className:"flex flex-wrap gap-2",children:A.slice(0,6).map(e=>(0,n.jsx)("button",{onClick:()=>D(e),className:"text-sm px-3 py-1.5 rounded-lg bg-secondary hover:bg-secondary/80 text-secondary-foreground truncate max-w-[220px] transition-colors",children:e.url.replace(/^https?:\/\//,"")},e.id))})]})]})}):I?(0,n.jsx)("main",{className:"min-h-screen flex flex-col items-center justify-center px-4",children:(0,n.jsxs)("div",{className:"text-center max-w-md",children:[(0,n.jsxs)("div",{className:"relative inline-flex items-center justify-center mb-8",children:[(0,n.jsx)("div",{className:"absolute w-20 h-20 rounded-full bg-primary/20 animate-pulse-ring"}),(0,n.jsx)("div",{className:"absolute w-14 h-14 rounded-full bg-primary/10 animate-pulse"}),(0,n.jsx)(g,{className:"relative w-8 h-8 text-primary"})]}),(0,n.jsxs)("h2",{className:"text-2xl font-semibold mb-2",children:["scraping"===r&&"Analyzing website...","generating"===r&&"Generating clone...","deploying"===r&&"Almost there..."]}),(0,n.jsx)("p",{className:"text-muted-foreground mb-8",children:c}),(0,n.jsx)("div",{className:"flex items-center justify-center gap-3",children:E.map((e,t)=>{let r=e.icon,s=t===B,a=t<B;return(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[t>0&&(0,n.jsx)("div",{className:"w-8 h-px ".concat(a?"bg-primary":"bg-border")}),(0,n.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full text-sm transition-all ".concat(s?"bg-primary/15 text-primary":a?"text-primary/60":"text-muted-foreground/40"),children:[s?(0,n.jsx)(w,{className:"w-3.5 h-3.5 animate-spin"}):(0,n.jsx)(r,{className:"w-3.5 h-3.5"}),e.label]})]},e.key)})}),(0,n.jsxs)("p",{className:"text-xs text-muted-foreground/50 mt-8",children:["Cloning ",e.replace(/^https?:\/\//,"")]})]})}):"error"===r?(0,n.jsx)("main",{className:"min-h-screen flex flex-col items-center justify-center px-4",children:(0,n.jsxs)("div",{className:"text-center max-w-md",children:[(0,n.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-destructive/10 mb-6",children:(0,n.jsx)(v,{className:"w-8 h-8 text-destructive"})}),(0,n.jsx)("h2",{className:"text-2xl font-semibold mb-2",children:"Clone failed"}),(0,n.jsx)("p",{className:"text-muted-foreground mb-6",children:S}),(0,n.jsx)("button",{onClick:U,className:"bg-card border border-border rounded-xl px-6 py-2.5 text-sm font-medium hover:bg-secondary transition-colors",children:"Try again"})]})}):W?(0,n.jsxs)("main",{className:"h-screen flex flex-col",children:[(0,n.jsxs)("div",{className:"shrink-0 flex items-center gap-2 px-4 py-2.5 border-b bg-card/80 backdrop-blur-sm",children:[(0,n.jsxs)("button",{onClick:U,className:"flex items-center gap-2 text-sm font-medium hover:text-primary transition-colors mr-2",children:[(0,n.jsx)(f,{className:"w-4 h-4"}),"Clonr"]}),(0,n.jsx)("div",{className:"w-px h-5 bg-border"}),(0,n.jsx)("span",{className:"text-sm text-muted-foreground truncate max-w-[300px] ml-2",children:e.replace(/^https?:\/\//,"")}),(0,n.jsx)("div",{className:"flex-1"}),(0,n.jsxs)("div",{className:"flex items-center bg-secondary rounded-lg p-0.5",children:[(0,n.jsxs)("button",{onClick:()=>M(!1),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm transition-all ".concat(p?"text-muted-foreground hover:text-foreground":"bg-background text-foreground shadow-sm"),children:[(0,n.jsx)(j,{className:"w-3.5 h-3.5"}),"Preview"]}),(0,n.jsxs)("button",{onClick:()=>M(!0),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm transition-all ".concat(p?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[(0,n.jsx)(N,{className:"w-3.5 h-3.5"}),"Code"]})]}),p&&x&&(0,n.jsxs)("button",{onClick:P,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm text-muted-foreground hover:text-foreground hover:bg-secondary transition-all",children:[z?(0,n.jsx)(k,{className:"w-3.5 h-3.5 text-green-400"}):(0,n.jsx)(C,{className:"w-3.5 h-3.5"}),z?"Copied":"Copy"]}),u&&(0,n.jsx)("a",{href:u,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm text-muted-foreground hover:text-foreground hover:bg-secondary transition-all",children:(0,n.jsx)(T,{className:"w-3.5 h-3.5"})}),(0,n.jsx)("button",{onClick:U,className:"bg-primary text-primary-foreground rounded-lg px-4 py-1.5 text-sm font-medium hover:bg-primary/90 transition-all flex items-center gap-2",children:"New clone"})]}),(0,n.jsxs)("div",{className:"flex-1 overflow-hidden",children:[!p&&u&&(0,n.jsx)("iframe",{src:u,className:"w-full h-full border-0",title:"Cloned website preview",sandbox:"allow-scripts allow-same-origin"}),!p&&!u&&x&&(0,n.jsx)("iframe",{srcDoc:x,className:"w-full h-full border-0",title:"Cloned website preview",sandbox:"allow-scripts"}),p&&x&&(0,n.jsx)("div",{className:"h-full overflow-auto bg-[hsl(220,13%,3%)]",children:(0,n.jsx)("pre",{className:"p-6 text-sm font-mono text-muted-foreground leading-relaxed whitespace-pre-wrap",children:(0,n.jsx)("code",{children:x})})})]})]}):null}},357:function(e,t,r){"use strict";var n,s;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(s=r.g.process)?void 0:s.env)?r.g.process:r(8081)},8081:function(e){!function(){var t={229:function(e){var t,r,n,s=e.exports={};function a(){throw Error("setTimeout has not been defined")}function l(){throw Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{r="function"==typeof clearTimeout?clearTimeout:l}catch(e){r=l}}();var o=[],c=!1,d=-1;function u(){c&&n&&(c=!1,n.length?o=n.concat(o):d=-1,o.length&&m())}function m(){if(!c){var e=i(u);c=!0;for(var t=o.length;t;){for(n=o,o=[];++d<t;)n&&n[d].run();d=-1,t=o.length}n=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===l||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function x(e,t){this.fun=e,this.array=t}function h(){}s.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];o.push(new x(e,t)),1!==o.length||c||i(m)},x.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=h,s.addListener=h,s.once=h,s.off=h,s.removeListener=h,s.removeAllListeners=h,s.emit=h,s.prependListener=h,s.prependOnceListener=h,s.listeners=function(e){return[]},s.binding=function(e){throw Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw Error("process.chdir is not supported")},s.umask=function(){return 0}}},r={};function n(e){var s=r[e];if(void 0!==s)return s.exports;var a=r[e]={exports:{}},l=!0;try{t[e](a,a.exports,n),l=!1}finally{l&&delete r[e]}return a.exports}n.ab="//";var s=n(229);e.exports=s}()}},function(e){e.O(0,[971,23,744],function(){return e(e.s=2937)}),_N_E=e.O()}]);